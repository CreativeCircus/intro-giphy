{"version":3,"sources":["main.js"],"names":["getGif","searchTerm","callback","GIPHY_API","GIPHY_API_KEY","Math","floor","random","axios","get","then","response","data","catch","error","console","warn","fade","giphyIndex","giphyData","$field","document","querySelector","$background","$foreground","setInterval","style","opacity","addEventListener","value","length","doSearch","backgroundImage","handleGiphyResponse","gifData","updateGifView","images","original","url","window","event","log","code","focus","setTimeout"],"mappings":"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","sourcesContent":["/**\n * Fetches GIFs from the Giphy API\n *\n * @param {String} searchTerm what you want to search giphy for\n * @param {Function} callback the function to call when giphy replies with some gifs\n */\nlet getGif = function(searchTerm, callback) {\n\t// learn about how the giphy API wants you to construct your URLs to make a request here:\n\t// https://developers.giphy.com/docs/api/endpoint#search\n\tconst GIPHY_API = 'https://api.giphy.com/v1/gifs/search?api_key=' + GIPHY_API_KEY + '&rating=G&offset=' + Math.floor(Math.random()*10) + '&';\n\t\n\t// axios is a package for fetching data via ajax.\n\taxios.get(GIPHY_API + 'q=' + searchTerm)\n\t\t.then(function(response) {\n\t\t\tcallback(response.data.data)\n\t\t})\n\t\t.catch(function (error) {\n\t\t\tconsole.warn(error);\n\t\t})\n}\n\n\n\n/*\n * simple example of how to get cat gifs and console log the results\n */\n// getGif('cat', function(gifData) {\n// \tconsole.log(gifData)\n// })\n\nlet fade = 3\nlet giphyIndex = 0\nlet giphyData = null\n\nlet $field = document.querySelector('.search-field')\nlet $background = document.querySelector('.background')\nlet $foreground = document.querySelector('.foreground')\n\nsetInterval(function() {\n\tfade -= 0.025\n\tif (fade < 0.1) fade = 0.1\n\t$field.style.opacity = fade\n}, 33)\n\n$field.addEventListener('mousemove', function() {\n\tfade = 3\n})\n\n$field.addEventListener('click', function() {\n\tfade = 3\n})\n\n$field.addEventListener('keyup', function() {\n\tfade = 3\n\tif ($field.value.length > 0) {\n\t\tdoSearch()\n\t} else {\n\t\t$background.style.backgroundImage = ``\n\t\t$foreground.style.backgroundImage = ``\n\t}\n})\n\nlet doSearch = function() {\n\tgetGif($field.value, handleGiphyResponse)\n}\n\nlet handleGiphyResponse = function(gifData) {\n\t// console.log('got data', gifData)\n\tgiphyIndex = 0\n\tgiphyData = gifData\n\tupdateGifView()\n}\n\nlet updateGifView = function() {\n\t// console.log('foo')\n\t$background.style.backgroundImage = `url(${giphyData[giphyIndex].images.original.url})`\n\t$foreground.style.backgroundImage = `url(${giphyData[giphyIndex].images.original.url})`\n}\n\nwindow.addEventListener('keyup', function(event) {\n\tconsole.log( event.code )\n\tif (event.code === \"ArrowLeft\") {\n\t\tgiphyIndex--\n\t\tif (giphyIndex < 0) giphyIndex = 0\n\t\tupdateGifView()\n\t} else if (event.code === \"ArrowRight\") {\n\t\tgiphyIndex++\n\t\tif (giphyIndex >= giphyData.length) giphyIndex = giphyData.length-1\n\t\tupdateGifView()\n\t} \n})\n\n$field.focus()\n\nsetTimeout(function() {\n\t$field.value = 'c'\n\tdoSearch()\n\tfade = 3\n}, 2000)\n\nsetTimeout(function() {\n\t$field.value = 'ca'\n\tdoSearch()\n\tfade = 3\n}, 2500)\n\nsetTimeout(function() {\n\t$field.value = 'cat'\n\tdoSearch()\n\tfade = 3\n}, 3000)"],"file":"main.js"}